\documentclass{article}
\usepackage[utf8x]{inputenc}
\title{Heuristic Analysis}
\author{Stefan Heidekr√ºger}


%\usepackage
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amstext}
%\usepackage{graphicx}
%\usepackage{xfrac}
\usepackage[left=1in, right=1in, top=0.1in, bottom=1in]{geometry}
%\usepackage{hyperref}
%\usepackage[ruled,vlined,linesnumbered]{algorithm2e}
%\usepackage{dsfont}
%\usepackage{courier}
%\usepackage{color}
\usepackage{amsthm}
%\usepackage[super]{nth}
\renewcommand{\qed}{\unskip\nobreak\quad\qedsymbol} %fixes position of \qed
\usepackage{natbib}
\bibliographystyle{abbrvnat}
\setcitestyle{authoryear,open={(},close={)}}
\usepackage{rotating}
\usepackage{enumitem}
\usepackage{slashbox}
\usepackage[]{nomencl}
\usepackage{comment}
\usepackage[gen]{eurosym}
\usepackage{caption}
\usepackage{chngcntr}

\usepackage{xargs}                      % Use more than one optional parameter in a new commands
\usepackage[pdftex,dvipsnames]{xcolor}  % Coloured text etc.

\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}

\newcommandx{\notsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
%\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
%\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}

\usepackage{titlesec}
\setcounter{secnumdepth}{3}

\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\newcommand\inv[1]{#1^{-1}}
\newcommand\expect[2][]{\mathbb E_{#1}\left[#2 \right]}
\newcommand\card{\texttt{\#}}

%Define Theorem Environments
\theoremstyle{plain}
\newtheorem{thm}{Theorem}%[chapter]
\newtheorem{propos}[thm]{Proposition}
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}
\theoremstyle{definition}
\newtheorem{defn}{Definition}[]
\newtheorem{ass}{Assumption}[]
\theoremstyle{remark}
\newtheorem*{exmpl}{Example}
\newtheorem*{remark}{Remark}
\newtheorem*{remarks}{Remarks}


\begin{document}
\maketitle

This document contains some analysis on the position evaluation heuristics that have been tried and ultimately selected for the \emph{Knight-Isolation} game playing agent. We will briefly describe the methodology as well as the findings of our analysis.

\paragraph{Methodololgy}
The goal of an evaluation heuristic $v$ is to approximate the \emph{value} $v^*$ of the game (from the point of view of the agent player.) As such, it's always the goal to win the game and avoid losing it, so it makes sense to set $v(\textnormal{winning position}) = \infty$ and $v(\textnormal{losing position})=-\infty$. (These values are well-defined, as our alpha-beta-tuning algorithm solely relies on \emph{ordinal} comparisons of values; if we instead employed Monte-Carlo tree search or other similar algorithms, we would need to use finite values in order to \emph{weigh} moves somehow \textemdash and also worry about interval scaling.)

More importantly, let's consider position that are neither clearly winning or losing. We decided that the heuristic should be primarily decided based on the \emph{number of possible moves for the playing agent} $n$ and the \emph{number of possible moves for the opposing player} $m$. Other measures, such as centrality, were briefly considered but were quickly discarded when they didn't show much promise in the first experiments.

As it's obvious that $m$ should affect the heuristic negatively (and $n$ positively), we considered polynomial functions of the form
$$v(n,m) = an^b - cm^d $$
with $0 \leq a,c \lessapprox 10$, $0 < b,d \lessapprox 3$ (a value of $0$ for $b$ or $d$ would be irrelevant due to translation invariance).

Due to time-constraints, we did not perform an exhaustive parameter-search in this space, but rather manually tried different combinations for a very superficial search by hand. In each case, decisions were made on a handful of cases of round-robin tournaments as provided in \texttt{tournameny.py} as no resources for more robust methods were available. It should be noted that the results contained "a lot" of variance and any analysis result should therefore be taken with a grain of salt and only be seen as a rough draft rather than thoroughly tested insights on valuable heuristics. The given implementation \texttt{AB-Improved} served as the main baseline for comparison


\paragraph{Results and Final Heuristics}

From the first few experiments, it quickly became clear that the following should hold:
\begin{itemize}
	\item $a>0, c>0$
	\item $n$ should be weighed stronger than $m$, roughly speaking $cm^d = \mathcal O(an^d)$
\end{itemize}

After some experimentation, we finally considered the following heuristics (along with their win-rates over 5 consecutive tournaments):
\begin{itemize}
	\item $v_0$: baseline \texttt{AB-Improved} \quad(61.4, 57.1, 61.4, 67.1, 61.4, avg: 61.7) 
	\item $v_1 = 2n^2 - m\sqrt m$ \qquad (68.6, 57.1, 67.1, 67.1, 64.3, avg: 64.84)
	\item $v_2 = n\sqrt n - 2m$ \quad (60.0, 54.3, 65.7, 72.9, 54.3, avg: 61.44)
	\item $v_3 = 2n - m$\footnote{With additional check: If only possible move can be blocked in opponents next move, then $v_3=-100$} (64.3, 65.7, 55.7, 57.1, 60.0,  avg: 60.56)
\end{itemize}

We can see that from this list, $v_1$ not only achieves the highest average score \textemdash it also (weakly) dominates the baseline player across these tournaments. As such, we chose
$$ v_1 = 2n^2 - m^{1.5}$$ as our final heuristic.

% \nocite{*}
% %\bibliographystyle{apalike}%amsalpha
% \addcontentsline{toc}{chapter}{References} 
% \bibliography{references}

\end{document}